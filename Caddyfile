media.thenairn.com {
    redir 301 {
        if {>X-Forwarded-Proto} is http
        /  https://{host}{uri}
    }

    proxy / organizr {
        transparent
    }
}

files.thenairn.com {
    basicauth / admin nairnnairn
    proxy / fileserver:8080 {
        transparent
    }
}

transmission.thenairn.com {
    proxy / transmission:9091
}

radarr.thenairn.com {
    proxy / radarr:7878 {
        transparent
    }
}

jackett.thenairn.com {
    cors / https://media.thenairn.com
    proxy / jackett:9117 {
	    transparent
    }
}

sonarr.thenairn.com {
    proxy / sonarr:8989 {
	    transparent
    }
}

portainer.thenairn.com {
    proxy / portainer:9000 {
	    transparent
    }
}

plex.thenairn.com {
    gzip

    proxy / plex:32400 {
        transparent
    }
}